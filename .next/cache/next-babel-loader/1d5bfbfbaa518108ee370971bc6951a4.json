{"ast":null,"code":"var _jsxFileName = \"/Users/ar/projects/popular/components/HomePage.jsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useEffect, useState } from 'react';\n\nvar HomePage = function HomePage(props) {\n  var _useState = useState(0),\n      windowsWidth = _useState[0],\n      setWidth = _useState[1];\n\n  var _useState2 = useState(0),\n      windowsHeight = _useState2[0],\n      setHeight = _useState2[1];\n\n  var list = null;\n  useEffect(function () {\n    setWidth(window.innerWidth);\n    setHeight(window.innerHeight); // Multiple Animated Circle - Get Canvas element by Id\n\n    var canvas = document.getElementById(\"myCanvas\"); // Set Canvas dimensions\n\n    canvas.width = windowsWidth;\n    canvas.height = windowsHeight; // Get drawing context\n\n    var ctx = canvas.getContext('2d'); // The Circle class\n\n    function Circle(x, y, dx, dy, radius, title, traffic, related) {\n      this.x = x;\n      this.y = y;\n      this.dx = dx;\n      this.dy = dy;\n      this.title = title;\n      this.traffic = traffic;\n      this.radius = radius;\n      this.related = related;\n      var allTraffic = props.props.map(function (el) {\n        return el.traffic.match(/\\d+/)[0];\n      });\n      this.highest = allTraffic[0];\n      var lowest = allTraffic[allTraffic.length - 1];\n\n      this.random_rgba = function () {\n        var o = Math.round,\n            r = Math.random,\n            s = 255;\n        return 'rgb(' + o(r() * s) + ',' + o(r() * s) + ',' + o(r() * s) + ',' + r().toFixed(1) + ')';\n      };\n\n      var color = this.random_rgba();\n\n      this.draw = function () {\n        ctx.beginPath();\n        ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2, false);\n        ctx.fillStyle = \"rgba(255,0,0,\".concat(this.traffic / this.highest, \")\");\n        ctx.fill();\n        ctx.fillStyle = \"black\";\n        ctx.font = \"16px Verdana\";\n        ctx.textAlign = 'center';\n        ctx.fillText(this.title, this.x, this.y);\n        ctx.fillText(this.related, this.x, this.y + 20);\n      };\n\n      this.update = function () {\n        if (this.x + this.radius > windowsWidth || this.x - this.radius < 0) {\n          this.dx = -this.dx;\n        }\n\n        if (this.y + this.radius > windowsHeight || this.y - this.radius < 0) {\n          this.dy = -this.dy;\n        }\n\n        this.x += this.dx;\n        this.y += this.dy;\n        this.draw();\n      };\n    }\n\n    var circles = []; // Radius\n\n    var radius = 70;\n\n    for (var i = 0; i < props.props.length; i++) {\n      // Starting Position\n      var x = Math.random() * (windowsWidth - radius * 2) + radius;\n      var y = Math.random() * (windowsHeight - radius * 2) + radius; // Speed in x and y direction\n\n      var dx = (Math.random() - 0.5) * 2;\n      var dy = (Math.random() - 0.5) * 2;\n      var related = props.props[i].relatedQueries ? props.props[i].relatedQueries : null;\n      var title = props.props[i].title;\n      var traffic = props.props[i].traffic.match(/\\d+/)[0];\n      circles.push(new Circle(x, y, dx, dy, radius, title, traffic, related));\n    }\n\n    function animate() {\n      requestAnimationFrame(animate);\n      ctx.clearRect(0, 0, windowsWidth, windowsHeight);\n\n      for (var r = 0; r < props.props.length; r++) {\n        circles[r].update();\n      }\n    }\n\n    animate();\n  });\n  return __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, __jsx(\"canvas\", {\n    id: \"myCanvas\",\n    width: windowsWidth,\n    height: windowsHeight,\n    style: {\n      border: '1px solid black'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }));\n};\n\nexport default HomePage;","map":{"version":3,"sources":["/Users/ar/projects/popular/components/HomePage.jsx"],"names":["useEffect","useState","HomePage","props","windowsWidth","setWidth","windowsHeight","setHeight","list","window","innerWidth","innerHeight","canvas","document","getElementById","width","height","ctx","getContext","Circle","x","y","dx","dy","radius","title","traffic","related","allTraffic","map","el","match","highest","lowest","length","random_rgba","o","Math","round","r","random","s","toFixed","color","draw","beginPath","arc","PI","fillStyle","fill","font","textAlign","fillText","update","circles","i","relatedQueries","push","animate","requestAnimationFrame","clearRect","border"],"mappings":";;;AAAA,SAAQA,SAAR,EAAmBC,QAAnB,QAAkC,OAAlC;;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,KAAD,EAAW;AAAA,kBACKF,QAAQ,CAAC,CAAD,CADb;AAAA,MACrBG,YADqB;AAAA,MACPC,QADO;;AAAA,mBAEOJ,QAAQ,CAAC,CAAD,CAFf;AAAA,MAErBK,aAFqB;AAAA,MAENC,SAFM;;AAG1B,MAAIC,IAAI,GAAG,IAAX;AAEFR,EAAAA,SAAS,CAAC,YAAM;AAChBK,IAAAA,QAAQ,CAACI,MAAM,CAACC,UAAR,CAAR;AACAH,IAAAA,SAAS,CAACE,MAAM,CAACE,WAAR,CAAT,CAFgB,CAKhB;;AACA,QAAIC,MAAM,GAAGC,QAAQ,CAACC,cAAT,CAAyB,UAAzB,CAAb,CANgB,CAQhB;;AACAF,IAAAA,MAAM,CAACG,KAAP,GAAiBX,YAAjB;AACAQ,IAAAA,MAAM,CAACI,MAAP,GAAiBV,aAAjB,CAVgB,CAYhB;;AACA,QAAIW,GAAG,GAAGL,MAAM,CAACM,UAAP,CAAmB,IAAnB,CAAV,CAbgB,CAchB;;AACA,aAASC,MAAT,CAAiBC,CAAjB,EAAoBC,CAApB,EAAuBC,EAAvB,EAA2BC,EAA3B,EAA+BC,MAA/B,EAAuCC,KAAvC,EAA8CC,OAA9C,EAAuDC,OAAvD,EAAiE;AAEhE,WAAKP,CAAL,GAAUA,CAAV;AACA,WAAKC,CAAL,GAAUA,CAAV;AACA,WAAKC,EAAL,GAAUA,EAAV;AACC,WAAKC,EAAL,GAAUA,EAAV;AACA,WAAKE,KAAL,GAAaA,KAAb;AACA,WAAKC,OAAL,GAAeA,OAAf;AACD,WAAKF,MAAL,GAAcA,MAAd;AACA,WAAKG,OAAL,GAAeA,OAAf;AACC,UAAMC,UAAU,GAAGzB,KAAK,CAACA,KAAN,CAAY0B,GAAZ,CAAiB,UAAAC,EAAE;AAAA,eAAIA,EAAE,CAACJ,OAAH,CAAWK,KAAX,CAAiB,KAAjB,EAAwB,CAAxB,CAAJ;AAAA,OAAnB,CAAnB;AACA,WAAKC,OAAL,GAAeJ,UAAU,CAAC,CAAD,CAAzB;AACA,UAAMK,MAAM,GAAGL,UAAU,CAACA,UAAU,CAACM,MAAX,GAAoB,CAArB,CAAzB;;AAIA,WAAKC,WAAL,GAAmB,YAAW;AAC5B,YAAIC,CAAC,GAAGC,IAAI,CAACC,KAAb;AAAA,YAAoBC,CAAC,GAAGF,IAAI,CAACG,MAA7B;AAAA,YAAqCC,CAAC,GAAG,GAAzC;AACA,eAAO,SAASL,CAAC,CAACG,CAAC,KAAGE,CAAL,CAAV,GAAoB,GAApB,GAA0BL,CAAC,CAACG,CAAC,KAAGE,CAAL,CAA3B,GAAqC,GAArC,GAA2CL,CAAC,CAACG,CAAC,KAAGE,CAAL,CAA5C,GAAsD,GAAtD,GAA4DF,CAAC,GAAGG,OAAJ,CAAY,CAAZ,CAA5D,GAA6E,GAApF;AACH,OAHC;;AAIF,UAAIC,KAAK,GAAG,KAAKR,WAAL,EAAZ;;AAGC,WAAKS,IAAL,GAAY,YAAW;AAEtB3B,QAAAA,GAAG,CAAC4B,SAAJ;AACA5B,QAAAA,GAAG,CAAC6B,GAAJ,CAAS,KAAK1B,CAAd,EAAiB,KAAKC,CAAtB,EAA0B,KAAKG,MAA/B,EAAuC,CAAvC,EAA0Ca,IAAI,CAACU,EAAL,GAAU,CAApD,EAAuD,KAAvD;AACE9B,QAAAA,GAAG,CAAC+B,SAAJ,0BAAgC,KAAKtB,OAAL,GAAa,KAAKM,OAAlD;AACAf,QAAAA,GAAG,CAACgC,IAAJ;AACAhC,QAAAA,GAAG,CAAC+B,SAAJ,GAAgB,OAAhB;AACA/B,QAAAA,GAAG,CAACiC,IAAJ,GAAW,cAAX;AACAjC,QAAAA,GAAG,CAACkC,SAAJ,GAAgB,QAAhB;AACFlC,QAAAA,GAAG,CAACmC,QAAJ,CAAa,KAAK3B,KAAlB,EAAwB,KAAKL,CAA7B,EAAgC,KAAKC,CAArC;AACAJ,QAAAA,GAAG,CAACmC,QAAJ,CAAa,KAAKzB,OAAlB,EAA0B,KAAKP,CAA/B,EAAkC,KAAKC,CAAL,GAAS,EAA3C;AAEA,OAZD;;AAcA,WAAKgC,MAAL,GAAc,YAAW;AACxB,YAAI,KAAKjC,CAAL,GAAS,KAAKI,MAAd,GAAuBpB,YAAvB,IAAuC,KAAKgB,CAAL,GAAS,KAAKI,MAAd,GAAuB,CAAlE,EAAsE;AACrE,eAAKF,EAAL,GAAU,CAAC,KAAKA,EAAhB;AACA;;AAED,YAAI,KAAKD,CAAL,GAAS,KAAKG,MAAd,GAAuBlB,aAAvB,IAAwC,KAAKe,CAAL,GAAS,KAAKG,MAAd,GAAuB,CAAnE,EAAuE;AACtE,eAAKD,EAAL,GAAU,CAAC,KAAKA,EAAhB;AACA;;AAED,aAAKH,CAAL,IAAU,KAAKE,EAAf;AACA,aAAKD,CAAL,IAAU,KAAKE,EAAf;AAEA,aAAKqB,IAAL;AACA,OAbD;AAcA;;AAED,QAAIU,OAAO,GAAG,EAAd,CApEgB,CAsEhB;;AACA,QAAI9B,MAAM,GAAG,EAAb;;AAEA,SAAK,IAAI+B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGpD,KAAK,CAACA,KAAN,CAAY+B,MAAhC,EAAwCqB,CAAC,EAAzC,EAA+C;AAE9C;AACA,UAAInC,CAAC,GAAGiB,IAAI,CAACG,MAAL,MAAkBpC,YAAY,GAAGoB,MAAM,GAAG,CAA1C,IAAgDA,MAAxD;AACA,UAAIH,CAAC,GAAGgB,IAAI,CAACG,MAAL,MAAkBlC,aAAa,GAAGkB,MAAM,GAAG,CAA3C,IAAgDA,MAAxD,CAJ8C,CAM9C;;AACC,UAAIF,EAAE,GAAG,CAAEe,IAAI,CAACG,MAAL,KAAgB,GAAlB,IAA0B,CAAnC;AACD,UAAIjB,EAAE,GAAG,CAAEc,IAAI,CAACG,MAAL,KAAgB,GAAlB,IAA0B,CAAnC;AACA,UAAIb,OAAO,GAAGxB,KAAK,CAACA,KAAN,CAAYoD,CAAZ,EAAeC,cAAf,GAAiCrD,KAAK,CAACA,KAAN,CAAYoD,CAAZ,EAAeC,cAAhD,GAAiE,IAA/E;AACC,UAAI/B,KAAK,GAAGtB,KAAK,CAACA,KAAN,CAAYoD,CAAZ,EAAe9B,KAA3B;AACA,UAAIC,OAAO,GAAGvB,KAAK,CAACA,KAAN,CAAYoD,CAAZ,EAAe7B,OAAf,CAAuBK,KAAvB,CAA6B,KAA7B,EAAoC,CAApC,CAAd;AACDuB,MAAAA,OAAO,CAACG,IAAR,CAAc,IAAItC,MAAJ,CAAYC,CAAZ,EAAeC,CAAf,EAAkBC,EAAlB,EAAsBC,EAAtB,EAA0BC,MAA1B,EAAkCC,KAAlC,EAAyCC,OAAzC,EAAkDC,OAAlD,CAAd;AACA;;AAED,aAAS+B,OAAT,GAAmB;AAClBC,MAAAA,qBAAqB,CAAED,OAAF,CAArB;AACAzC,MAAAA,GAAG,CAAC2C,SAAJ,CAAe,CAAf,EAAkB,CAAlB,EAAqBxD,YAArB,EAAmCE,aAAnC;;AACA,WAAK,IAAIiC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGpC,KAAK,CAACA,KAAN,CAAY+B,MAAhC,EAAwCK,CAAC,EAAzC,EAA8C;AAC7Ce,QAAAA,OAAO,CAAEf,CAAF,CAAP,CAAac,MAAb;AACA;AACD;;AAEDK,IAAAA,OAAO;AACN,GAjGQ,CAAT;AAmGA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAQ,IAAA,EAAE,EAAC,UAAX;AAAsB,IAAA,KAAK,EAAEtD,YAA7B;AAA2C,IAAA,MAAM,EAAEE,aAAnD;AAAkE,IAAA,KAAK,EAAE;AAACuD,MAAAA,MAAM,EAAE;AAAT,KAAzE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF;AAOC,CA/GD;;AAiHA,eAAe3D,QAAf","sourcesContent":["import {useEffect, useState} from 'react'\n\nconst HomePage = (props) => {\n  let [windowsWidth, setWidth] = useState(0)\n  let [windowsHeight, setHeight] = useState(0)\n  let list = null\n\nuseEffect(() => {\nsetWidth(window.innerWidth);\nsetHeight(window.innerHeight);\n\n\n// Multiple Animated Circle - Get Canvas element by Id\nvar canvas = document.getElementById( \"myCanvas\" );\n\n// Set Canvas dimensions\ncanvas.width   = windowsWidth;\ncanvas.height  = windowsHeight;\n\n// Get drawing context\nvar ctx = canvas.getContext( '2d' );\n// The Circle class\nfunction Circle( x, y, dx, dy, radius, title, traffic, related ) {\n\n\tthis.x \t= x;\n\tthis.y \t= y;\n\tthis.dx = dx;\n  this.dy = dy;\n  this.title = title\n  this.traffic = traffic\n\tthis.radius = radius;\n\tthis.related = related;\n  const allTraffic = props.props.map( el => el.traffic.match(/\\d+/)[0] );\n  this.highest = allTraffic[0]\n  const lowest = allTraffic[allTraffic.length - 1]\n \n\n  \n  this.random_rgba = function() {\n    var o = Math.round, r = Math.random, s = 255;\n    return 'rgb(' + o(r()*s) + ',' + o(r()*s) + ',' + o(r()*s) + ',' + r().toFixed(1) + ')';\n}\nvar color = this.random_rgba();\n\n\n\tthis.draw = function() {\n    \n\t\tctx.beginPath();\n\t\tctx.arc( this.x, this.y,  this.radius, 0, Math.PI * 2, false  );\n    ctx.fillStyle = `rgba(255,0,0,${this.traffic/this.highest})`;\n    ctx.fill();\n    ctx.fillStyle = \"black\";\n    ctx.font = \"16px Verdana\";\n    ctx.textAlign = 'center';\n\t\tctx.fillText(this.title,this.x, this.y);\n\t\tctx.fillText(this.related,this.x, this.y + 20);\n\n\t}\n\n\tthis.update = function() {\n\t\tif( this.x + this.radius > windowsWidth || this.x - this.radius < 0 ) {\n\t\t\tthis.dx = -this.dx;\n\t\t}\n\n\t\tif( this.y + this.radius > windowsHeight || this.y - this.radius < 0 ) {\n\t\t\tthis.dy = -this.dy;\n\t\t}\n\n\t\tthis.x += this.dx;\n\t\tthis.y += this.dy;\n\n\t\tthis.draw();\n\t}\n}\n\nvar circles = [];\n\n// Radius\nvar radius = 70;\n\nfor( var i = 0; i < props.props.length; i++ )  {\n\t\n\t// Starting Position\n\tvar x = Math.random() * ( windowsWidth - radius * 2 ) + radius;\n\tvar y = Math.random() * ( windowsHeight - radius * 2) + radius;\n\n\t// Speed in x and y direction\n  var dx = ( Math.random() - 0.5 ) * 2;\n\tvar dy = ( Math.random() - 0.5 ) * 2;\n\tvar related = props.props[i].relatedQueries ?  props.props[i].relatedQueries : null\n  var title = props.props[i].title\n  var traffic = props.props[i].traffic.match(/\\d+/)[0];\n\tcircles.push( new Circle( x, y, dx, dy, radius, title, traffic, related) );\n}\n\nfunction animate() {\n\trequestAnimationFrame( animate );\n\tctx.clearRect( 0, 0, windowsWidth, windowsHeight );\n\tfor( var r = 0; r < props.props.length; r++ ) {\n\t\tcircles[ r ].update();\n\t}\n}\n\nanimate();\n})\n\nreturn (\n  <div>\n    <canvas id=\"myCanvas\" width={windowsWidth} height={windowsHeight} style={{border: '1px solid black' }} >\n    </canvas>\n  </div>\n\n)\n}\n\nexport default HomePage"]},"metadata":{},"sourceType":"module"}