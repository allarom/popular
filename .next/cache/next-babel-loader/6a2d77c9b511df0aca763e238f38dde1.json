{"ast":null,"code":"var _jsxFileName = \"/Users/ar/projects/popular/components/Page.jsx\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState, useRef } from 'react';\nimport dynamic from 'next/dynamic';\nimport { select } from \"d3\";\n\nconst Page = props => {\n  // const [windowsWidth, setWidth] = useState()\n  // const [windowsHeight, setHeight] = useState()\n  const {\n    0: data,\n    1: setData\n  } = useState(null);\n  const svgRef = useRef();\n  const title = props.props.map(e => e.title); // const width = typeof window === 'object' ? window.innerWidth : null\n  // const height = typeof window === 'object' ? window.innerHeight : null\n\n  const size = useWindowSize();\n\n  function useWindowSize() {\n    const isClient = false;\n\n    function getSize() {\n      return {\n        width: isClient ? window.innerWidth : undefined,\n        height: isClient ? window.innerHeight : undefined\n      };\n    }\n  }\n\n  const {\n    0: windowSize,\n    1: setWindowSize\n  } = useState(getSize);\n  useEffect(() => {\n    if (!isClient) {\n      return false;\n    }\n\n    function handleResize() {\n      setWindowSize(getSize());\n    }\n\n    setData(title);\n    const svg = select(svgRef.current);\n    svg.selectAll(\"circle\").data(data).join(\"circle\"); // .attr(\"r\", value => value)\n    // .attr(\"cx\", value => value *  2)\n    // .attr(\"cy\", value => value * 2)\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, [data]);\n  return __jsx(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, __jsx(\"svg\", {\n    ref: svgRef,\n    width: size.width,\n    height: size.height,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }), __jsx(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }), __jsx(\"button\", {\n    onClick: () => setData(data.map(value => value + 5)),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"Update\"));\n};\n\nexport default Page;","map":{"version":3,"sources":["/Users/ar/projects/popular/components/Page.jsx"],"names":["React","useEffect","useState","useRef","dynamic","select","Page","props","data","setData","svgRef","title","map","e","size","useWindowSize","isClient","getSize","width","window","innerWidth","undefined","height","innerHeight","windowSize","setWindowSize","handleResize","svg","current","selectAll","join","addEventListener","removeEventListener","value"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,EAAoCC,MAApC,QAAiD,OAAjD;AACA,OAAOC,OAAP,MAAoB,cAApB;AACA,SAASC,MAAT,QAAuB,IAAvB;;AAEA,MAAMC,IAAI,GAAIC,KAAD,IAAW;AACvB;AACA;AACA,QAAM;AAAA,OAACC,IAAD;AAAA,OAAOC;AAAP,MAAkBP,QAAQ,CAAC,IAAD,CAAhC;AACA,QAAMQ,MAAM,GAAGP,MAAM,EAArB;AACA,QAAMQ,KAAK,GAAGJ,KAAK,CAACA,KAAN,CAAYK,GAAZ,CAAgBC,CAAC,IAAIA,CAAC,CAACF,KAAvB,CAAd,CALuB,CAMvB;AACA;;AAEA,QAAMG,IAAI,GAAGC,aAAa,EAA1B;;AACA,WAASA,aAAT,GAAyB;AACxB,UAAMC,QAAQ,QAAd;;AAEA,aAASC,OAAT,GAAmB;AAClB,aAAO;AACNC,QAAAA,KAAK,EAAEF,QAAQ,GAAGG,MAAM,CAACC,UAAV,GAAuBC,SADhC;AAENC,QAAAA,MAAM,EAAEN,QAAQ,GAAGG,MAAM,CAACI,WAAV,GAAwBF;AAFlC,OAAP;AAIA;AACD;;AACD,QAAM;AAAA,OAACG,UAAD;AAAA,OAAaC;AAAb,MAA8BvB,QAAQ,CAACe,OAAD,CAA5C;AACAhB,EAAAA,SAAS,CAAC,MAAM;AACf,QAAI,CAACe,QAAL,EAAe;AACX,aAAO,KAAP;AACD;;AAED,aAASU,YAAT,GAAwB;AACtBD,MAAAA,aAAa,CAACR,OAAO,EAAR,CAAb;AACD;;AAEHR,IAAAA,OAAO,CAACE,KAAD,CAAP;AACA,UAAMgB,GAAG,GAAGtB,MAAM,CAACK,MAAM,CAACkB,OAAR,CAAlB;AACAD,IAAAA,GAAG,CAACE,SAAJ,CAAc,QAAd,EACCrB,IADD,CACMA,IADN,EAECsB,IAFD,CAEM,QAFN,EAXe,CAcf;AACA;AACA;;AAEAX,IAAAA,MAAM,CAACY,gBAAP,CAAwB,QAAxB,EAAkCL,YAAlC;AACE,WAAO,MAAMP,MAAM,CAACa,mBAAP,CAA2B,QAA3B,EAAqCN,YAArC,CAAb;AAEF,GArBQ,EAqBN,CAAClB,IAAD,CArBM,CAAT;AAuBD,SACC,MAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC;AAAK,IAAA,GAAG,EAAEE,MAAV;AAAmB,IAAA,KAAK,EAAEI,IAAI,CAACI,KAA/B;AAAsC,IAAA,MAAM,EAAEJ,IAAI,CAACQ,MAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,EAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFD,EAGC;AAAQ,IAAA,OAAO,EAAE,MAAMb,OAAO,CAACD,IAAI,CAACI,GAAL,CAASqB,KAAK,IAAIA,KAAK,GAAG,CAA1B,CAAD,CAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHD,CADD;AAUC,CAtDD;;AAwDA,eAAe3B,IAAf","sourcesContent":["import React, {useEffect, useState, useRef} from 'react'\nimport dynamic from 'next/dynamic'\nimport { select } from \"d3\"\n\nconst Page = (props) => {\n\t// const [windowsWidth, setWidth] = useState()\n\t// const [windowsHeight, setHeight] = useState()\n\tconst [data, setData] = useState(null);\n\tconst svgRef = useRef();\n\tconst title = props.props.map(e => e.title);\n\t// const width = typeof window === 'object' ? window.innerWidth : null\n\t// const height = typeof window === 'object' ? window.innerHeight : null\n\n\tconst size = useWindowSize();\n\tfunction useWindowSize() {\n\t\tconst isClient = typeof window === 'object';\n\t\n\t\tfunction getSize() {\n\t\t\treturn {\n\t\t\t\twidth: isClient ? window.innerWidth : undefined,\n\t\t\t\theight: isClient ? window.innerHeight : undefined\n\t\t\t};\n\t\t}\n\t}\n\tconst [windowSize, setWindowSize] = useState(getSize);\n\tuseEffect(() => {\n\t\tif (!isClient) {\n      return false;\n    }\n    \n    function handleResize() {\n      setWindowSize(getSize());\n    }\n\n\t\tsetData(title)\n\t\tconst svg = select(svgRef.current);\n\t\tsvg.selectAll(\"circle\")\n\t\t.data(data)\n\t\t.join(\"circle\")\t\n\t\t// .attr(\"r\", value => value)\n\t\t// .attr(\"cx\", value => value *  2)\n\t\t// .attr(\"cy\", value => value * 2)\n\n\t\twindow.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n\t\t\n\t}, [data])\n\nreturn (\n\t<React.Fragment>\n\t\t<svg ref={svgRef}  width={size.width} height={size.height}></svg>\n\t\t<br/>\n\t\t<button onClick={() => setData(data.map(value => value + 5))}>\n\t\tUpdate\n\t\t</button>\n\t</React.Fragment>\n )\n\n}\n\nexport default Page\n"]},"metadata":{},"sourceType":"module"}