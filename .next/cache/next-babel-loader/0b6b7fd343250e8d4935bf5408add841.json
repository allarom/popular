{"ast":null,"code":"var _jsxFileName = \"/Users/ar/projects/popular/components/Page.jsx\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState, useRef } from 'react';\nimport dynamic from 'next/dynamic';\nimport { select } from \"d3\";\n\nvar Page = function Page(props) {\n  // let [data, setData] = useState();\n  var svgRef = useRef();\n  var title = null;\n  useEffect(function () {\n    var svg = select(svgRef.current);\n    title = props.props.map(function (e) {\n      e.title;\n    });\n    var traffic = props.props.map(function (e) {\n      return parseInt(e.traffic.match(/\\d+/)[0]);\n    }); // setData(title)\n\n    console.log(\"data\", traffic);\n    svg.selectAll(\"circle\").data(title).join(\"circle\").attr(\"r\", function (traffic) {\n      return traffic;\n    }); // .attr(\"cx\", value => value *  2)\n    // .attr(\"cy\", value => value * 2)\n  }, []);\n  return __jsx(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, __jsx(\"svg\", {\n    ref: svgRef,\n    width: \"2000px\",\n    height: \"2000px\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }), __jsx(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }), __jsx(\"button\", {\n    onClick: function onClick() {\n      return setData(data.map(function (value) {\n        return value + 5;\n      }));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, \"Update\"));\n};\n\nexport default Page;","map":{"version":3,"sources":["/Users/ar/projects/popular/components/Page.jsx"],"names":["React","useEffect","useState","useRef","dynamic","select","Page","props","svgRef","title","svg","current","map","e","traffic","parseInt","match","console","log","selectAll","data","join","attr","setData","value"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,EAAoCC,MAApC,QAAiD,OAAjD;AACA,OAAOC,OAAP,MAAoB,cAApB;AACA,SAASC,MAAT,QAAuB,IAAvB;;AAEA,IAAMC,IAAI,GAAG,SAAPA,IAAO,CAACC,KAAD,EAAW;AACvB;AACA,MAAMC,MAAM,GAAGL,MAAM,EAArB;AACA,MAAIM,KAAK,GAAG,IAAZ;AAEAR,EAAAA,SAAS,CAAC,YAAM;AACf,QAAMS,GAAG,GAAGL,MAAM,CAACG,MAAM,CAACG,OAAR,CAAlB;AACAF,IAAAA,KAAK,GAAGF,KAAK,CAACA,KAAN,CAAYK,GAAZ,CAAgB,UAAAC,CAAC,EAAI;AAC5BA,MAAAA,CAAC,CAACJ,KAAF;AACA,KAFO,CAAR;AAGA,QAAMK,OAAO,GAAGP,KAAK,CAACA,KAAN,CAAYK,GAAZ,CAAgB,UAAAC,CAAC;AAAA,aAAIE,QAAQ,CAACF,CAAC,CAACC,OAAF,CAAUE,KAAV,CAAgB,KAAhB,EAAuB,CAAvB,CAAD,CAAZ;AAAA,KAAjB,CAAhB,CALe,CAMf;;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBJ,OAApB;AACAJ,IAAAA,GAAG,CAACS,SAAJ,CAAc,QAAd,EACCC,IADD,CACMX,KADN,EAECY,IAFD,CAEM,QAFN,EAGCC,IAHD,CAGM,GAHN,EAGW,UAAAR,OAAO;AAAA,aAAIA,OAAJ;AAAA,KAHlB,EARe,CAYf;AACA;AACA,GAdQ,EAcN,EAdM,CAAT;AAgBD,SACC,MAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC;AAAK,IAAA,GAAG,EAAEN,MAAV;AAAmB,IAAA,KAAK,EAAC,QAAzB;AAAkC,IAAA,MAAM,EAAC,QAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,EAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFD,EAGC;AAAQ,IAAA,OAAO,EAAE;AAAA,aAAMe,OAAO,CAACH,IAAI,CAACR,GAAL,CAAS,UAAAY,KAAK;AAAA,eAAIA,KAAK,GAAG,CAAZ;AAAA,OAAd,CAAD,CAAb;AAAA,KAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHD,CADD;AAUC,CA/BD;;AAiCA,eAAelB,IAAf","sourcesContent":["import React, {useEffect, useState, useRef} from 'react'\nimport dynamic from 'next/dynamic'\nimport { select } from \"d3\"\n\nconst Page = (props) => {\n\t// let [data, setData] = useState();\n\tconst svgRef = useRef();\n\tlet title = null\n\n\tuseEffect(() => {\n\t\tconst svg = select(svgRef.current);\n\t\ttitle = props.props.map(e => {\n\t\t\te.title\n\t\t});\n\t\tconst traffic = props.props.map(e => parseInt(e.traffic.match(/\\d+/)[0]));\n\t\t// setData(title)\n\t\tconsole.log(\"data\", traffic)\n\t\tsvg.selectAll(\"circle\")\n\t\t.data(title)\n\t\t.join(\"circle\")\t\n\t\t.attr(\"r\", traffic => traffic)\n\t\t// .attr(\"cx\", value => value *  2)\n\t\t// .attr(\"cy\", value => value * 2)\n\t}, [])\n\nreturn (\n\t<React.Fragment>\n\t\t<svg ref={svgRef}  width='2000px' height='2000px'></svg>\n\t\t<br/>\n\t\t<button onClick={() => setData(data.map(value => value + 5))}>\n\t\tUpdate\n\t\t</button>\n\t</React.Fragment>\n )\n\n}\n\nexport default Page\n"]},"metadata":{},"sourceType":"module"}